<!DOCTYPE HTML5>
<html>
<head>
    <title>chat</title>
</head>

<body>
    <h1>my duper chat</h1>
    <input id="userName" />
    <style>
        .message { 
           
        }

        .message.selected{
            font-weight:bold; 
/*            font-style: italic;*/
        }
    </style>
    <input id="messageInput" />
    <button id="sendMessage">send</button>

    <div id="messages">
        <div class='message'>[19:58]  Someone ups, wrong chat</div>
        <div class='message'>[19:56]  VProoke Hello to u</div>
        <div class='message'>[19:55]  AProoks Hello everyone</div>
    </div>

    <script src="http://code.jquery.com/jquery-latest.min.js"
        type="text/javascript"></script>

    <script>
        var messageTemplate = "<div class='message'>[{time}] {sender}: {message}</div>"
        function formatTemplate(messageTemplate,message)
        {
            var t = messageTemplate.replace("{time}", message.time);
            t = t.replace("{sender}", message.sender);
            t = t.replace("{message}", message.message);
            return t;
        }

        $(function () {
            $('#sendMessage')
                .off('click')
                .click(                        
                        function () {
                            var now = new Date();
                            var message = {time:now.toLocaleTimeString(),
                                sender:$('#userName').val(),
                                message:$("#messageInput").val()};
                            $('#messages')
                                .prepend(
                              
                                    formatTemplate(messageTemplate, message)
                                    );

                        });
        });     
        
        $(function(){
            $(document)
                .on('mouseenter', ".message"
                    ,function(e){
                            $(this)
                                .addClass('selected');
                        });
        });

        $(function(){
            $(document)
                .on('mouseleave',".message"
                    ,function(e){
                            $(this)
                                .removeClass('selected');
                        });
        });
    </script>
</body>
</html>
